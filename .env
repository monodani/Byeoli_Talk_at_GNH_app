# .env 파일 - BYEOLI_TALK_AT_GNHRD_app 설정

# ================================================================
# 앱 설정 (AppConfig)
# ================================================================

# 애플리케이션 모드: 'dev' (개발) 또는 'prod' (운영)
APP_MODE=dev

# 로깅 레벨: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO


# ================================================================
# 모델 및 임베딩 설정
# ================================================================

# OpenAI API 키
OPENAI_API_KEY=

# 메인 LLM 모델 (Streamlit UI에 사용)
LLM_MODEL=gpt-4o-mini

# 라우터에 사용되는 경량 LLM 모델
OPENAI_MODEL_ROUTER=gpt-4o-mini

# 임베딩 모델 (faiss 벡터스토어 생성)
EMBEDDING_MODEL=text-embedding-3-large

# 임베딩 차원 수
EMBEDDING_DIMENSION=1536


# ================================================================
# 검색 및 RAG 설정
# ================================================================

# 검색 결과 개수 (FAISS_K_DEFAULT)
RETRIEVAL_K=5

# 확장 검색 시 검색 결과 개수 (FAISS_K_EXPANDED)
FAISS_K_EXPANDED=12

# 텍스트 청크 크기
CHUNK_SIZE=1000

# 텍스트 청크 오버랩 크기
CHUNK_OVERLAP=100

# MMR 알고리즘 람다 값
MMR_LAMBDA=0.65

# RRF 순위 융합 알고리즘 K 값
RRF_K=60


# ================================================================
# 타임아웃 설정
# ================================================================

# 전체 타임박스 (초)
TIMEBOX_S=15.0

# 라우터 후보 선정 타임아웃 (초)
ROUTER_CANDIDATE_SELECTION_TIMEOUT=3.0

# 핸들러 실행 타임아웃 (초)
ROUTER_HANDLER_EXECUTION_TIMEOUT=12.0


# ================================================================
# 컨피던스 임계값 (핸들러별)
# ================================================================

TH_GENERAL=0.70
TH_PUBLISH=0.74
TH_SATIS=0.68
TH_CYBER=0.66
TH_MENU=0.64
TH_NOTICE=0.62
CONFIDENCE_THRESHOLD_FALLBACK=0.00


# ================================================================
# 캐시 TTL 설정 (시간 단위 또는 일 단위)
# ================================================================

# 'notice' 핸들러 캐시 TTL (시간)
TTL_NOTICE_HOURS=6

# 'menu' 핸들러 캐시 TTL (시간)
TTL_MENU_HOURS=6

# 기타 핸들러 캐시 TTL (일)
TTL_OTHERS_DAYS=30


# ================================================================
# 대화형 RAG 설정
# ================================================================

# 대화 기록 윈도우 크기 (최근 메시지 수)
RECENT_TURNS=6

# 대화 요약 업데이트 주기 (턴 수)
SUMMARY_EVERY_TURNS=4


# ================================================================
# 파일 경로 설정 (절대 경로 권장)
# ================================================================

# 프로젝트 루트 디렉토리
ROOT_DIR=${PWD}

# 데이터 디렉토리
DATA_DIR=${ROOT_DIR}/data

# 벡터스토어 저장 디렉토리
VECTOR_DIR=${ROOT_DIR}/vectorstores

# 캐시 저장 디렉토리
CACHE_DIR=${ROOT_DIR}/cache

# 로그 저장 디렉토리
LOG_DIR=${ROOT_DIR}/logs


# ================================================================
# 기타 설정
# ================================================================

# Streamlit UI에서 근거 출력 토글 활성화 여부
ST_EMIT_EVIDENCE=true
