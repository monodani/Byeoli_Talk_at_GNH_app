# ================================================================
# BYEOLI_TALK_AT_GNH_app - Python 3.12.10 호환 requirements.txt
# 경상남도인재개발원 RAG 챗봇 (Windows 64-bit 최적화)
# ================================================================

# --- 🔧 Core Framework & Configuration ---
python-dotenv==1.0.1          # .env 파일 로드
pydantic==2.9.2               # 데이터 검증 및 타입 체크 (contracts.py) - Python 3.12 최적화
structlog==24.4.0             # 구조화된 로깅
loguru==0.7.2                 # 고급 로깅 유틸리티

# --- 📊 Data Processing & Analysis ---
pandas==2.2.3                 # CSV 데이터 처리 (만족도 조사, 연락처) - Python 3.12 지원
numpy==2.1.2                  # 수치 연산 (벡터 연산, 통계) - Python 3.12 네이티브 바이너리
rapidfuzz==3.10.1             # 빠른 문자열 매칭 (엔티티 추출) - Python 3.12 컴파일 최적화
openpyxl==3.1.5               # Excel 파일 처리 (선택적)

# --- 🔍 Search & Retrieval ---
rank-bm25==0.2.2              # BM25 키워드 검색
faiss-cpu==1.8.0.post1        # 벡터 유사도 검색 (CPU 버전) - Python 3.12 호환
scikit-learn==1.5.2           # MMR 및 클러스터링 - Python 3.12 최신 지원

# --- 📄 File Processing & Text Extraction ---
pypdf==5.1.0                  # PDF 텍스트 추출 (2025plan.pdf, 2024pyeongga.pdf)
PyPDF2==3.0.1                 # PDF 처리 보조 라이브러리
Pillow==10.4.0                # 이미지 처리 (식단표 이미지) - Python 3.12 바이너리 지원
pytesseract==0.3.13           # OCR 텍스트 인식 (requires tesseract binary)
tiktoken==0.8.0               # OpenAI 토큰 계산 (청킹 최적화) - 최신 버전
chardet==5.2.0                # 인코딩 감지 (CSV 파일)

# --- 🤖 AI & Machine Learning ---
openai==1.51.2                # OpenAI API (GPT-4o-mini, text-embedding-3-large) - 최신 안정 버전
langchain==0.3.7              # LangChain 프레임워크 - Python 3.12 호환
langchain-openai==0.2.5       # LangChain OpenAI 통합 - 최신 버전
langchain-community==0.3.5    # LangChain 커뮤니티 확장
sentence-transformers==3.1.1  # 로컬 임베딩 모델 (백업용) - Python 3.12 최적화

# --- 🌐 Web Framework & API ---
streamlit==1.39.0             # 웹 UI 프레임워크 - Python 3.12 네이티브 지원
requests==2.32.3              # HTTP 요청 (ChatGPT API 호출)
uvicorn==0.32.0               # ASGI 서버 (선택적 API 서빙) - Python 3.12 성능 향상
fastapi==0.115.4              # API 프레임워크 (확장용) - Python 3.12 최적화
httpx==0.27.2                 # 비동기 HTTP 클라이언트 - 최신 안정 버전

# --- ✅ Validation & Schema ---
jsonschema==4.23.0            # JSON 스키마 검증 (schemas/*.json) - Python 3.12 지원
marshmallow==3.22.0           # 데이터 직렬화/역직렬화 - 최신 버전
email-validator==2.2.0        # 이메일 형식 검증

# --- ⚡ Performance & Async ---
asyncio-throttle==1.0.2       # 비동기 작업 제한
tenacity==9.0.0               # 재시도 로직 (API 호출 안정성) - Python 3.12 최적화
cachetools==5.5.0             # 메모리 캐시 - 최신 버전
diskcache==5.6.3              # 디스크 캐시
aiofiles==24.1.0              # 비동기 파일 I/O

# --- 🔄 File Monitoring & Hotswap ---
watchdog==5.0.3               # 파일 변경 감지 (핫스왑) - Python 3.12 네이티브 지원
filelock==3.16.1              # 파일 잠금 (동시성 제어) - 최신 버전

# --- 📈 Monitoring & Observability ---
psutil==6.1.0                 # 시스템 리소스 모니터링 - Python 3.12 최적화
memory-profiler==0.61.0       # 메모리 사용량 프로파일링

# --- 🔐 Security & Authentication ---
cryptography==43.0.3          # 암호화 (민감정보 보호) - Python 3.12 네이티브 컴파일
bcrypt==4.2.0                 # 패스워드 해싱 - Python 3.12 지원

# --- 📦 Serialization & Data Format ---
orjson==3.10.11               # 고성능 JSON 처리 (로그, 캐시) - Python 3.12 성능 최적화
msgpack==1.1.0                # 바이너리 직렬화 - 최신 버전
# pickle-secure는 표준 라이브러리 pickle 사용 권장 (Python 3.12에서 보안 강화)

# --- 🌏 Internationalization ---
langdetect==1.0.9             # 언어 감지
# koala==0.1.0는 Python 3.12 호환성 이슈로 제외, 대신 soynlp 사용

# --- 🔧 Development & Testing ---
pytest==8.3.3                 # 테스트 프레임워크 - Python 3.12 최적화
pytest-cov==6.0.0             # 코드 커버리지 - 최신 버전
pytest-asyncio==0.24.0        # 비동기 테스트 - Python 3.12 지원
pytest-mock==3.14.0           # 모킹 라이브러리
black==24.10.0                # 코드 포맷팅 - Python 3.12 최신 지원
ruff==0.7.4                   # 린팅 및 포맷팅 - Python 3.12 네이티브 성능
mypy==1.13.0                  # 타입 체킹 - Python 3.12 타입 힌트 완전 지원
pre-commit==4.0.1             # Git 훅 - 최신 버전

# --- 📊 Data Visualization (Optional) ---
matplotlib==3.9.2             # 기본 차트 - Python 3.12 호환
seaborn==0.13.2               # 통계 시각화
plotly==5.24.1                # 인터랙티브 차트 - 최신 버전

# --- 🔗 Database & Storage (Optional) ---
sqlalchemy==2.0.36            # ORM (향후 확장용) - Python 3.12 최적화
redis==5.2.0                  # 캐시 저장소 (분산 환경용) - 최신 버전

# --- 🌐 Network & Communication ---
websockets==13.1              # 실시간 통신 (향후 확장) - Python 3.12 asyncio 최적화
pydantic-settings==2.6.1      # 설정 관리 - Pydantic v2 호환

# --- 📝 Text Processing & NLP ---
nltk==3.9.1                   # 자연어 처리 도구 - Python 3.12 지원
# konlpy는 JDK 의존성으로 인해 선택적 설치 권장
soynlp==0.0.493               # 한국어 처리 (KoNLPy 대안)
regex==2024.9.11              # 고급 정규표현식 - Python 3.12 최적화

# --- 🔄 Task Scheduling & Background Jobs ---
apscheduler==3.10.4           # 스케줄링 (주기적 인덱스 업데이트)
celery==5.4.0                 # 백그라운드 작업 (대규모 환경용) - Python 3.12 지원

# --- 🧮 Math & Statistics ---
scipy==1.14.1                 # 과학 계산 (통계 분석) - Python 3.12 네이티브 바이너리
statsmodels==0.14.4           # 통계 모델링 - 최신 버전

# --- 🔍 Debugging & Profiling ---
line-profiler==4.1.3          # 라인별 성능 프로파일링 - Python 3.12 지원
py-spy==0.3.14                # 런타임 프로파일러
ipdb==0.13.13                 # 향상된 디버거

# --- 🎨 Rich CLI & UI ---
rich==13.9.4                  # 콘솔 출력 향상 - Python 3.12 최적화
click==8.1.7                  # CLI 인터페이스
typer==0.13.1                 # 현대적 CLI 프레임워크 - 최신 버전

# --- 🔧 System & Platform ---
python-multipart==0.0.12      # 멀티파트 폼 데이터 - 최신 버전
typing-extensions==4.12.2     # 타입 힌트 확장 (Python 3.12 내장이지만 호환성 유지)
python-dateutil==2.9.0        # 날짜 처리
pytz==2024.2                  # 시간대 처리 - 최신 데이터

# --- ⚙️ Configuration & Environment ---
configparser==7.1.0           # 설정 파일 파싱 - 최신 버전
# pathlib2는 Python 3.12에서 내장 pathlib로 충분
platformdirs==4.3.6           # 플랫폼별 디렉터리 - Python 3.12 최적화

# --- 🌊 Streaming & Real-time ---
sseclient-py==1.8.0           # Server-Sent Events
# asyncio-mqtt는 선택적 설치 (IoT 확장 시에만)

# --- 🎯 Specific Domain Libraries (선택적) ---
transformers==4.46.2          # Hugging Face 트랜스포머 (로컬 모델용) - Python 3.12 지원
torch==2.5.1                  # PyTorch (로컬 ML 모델용, CPU 버전) - Python 3.12 네이티브
torchvision==0.20.1           # 컴퓨터 비전 - Python 3.12 지원
torchaudio==2.5.1             # 오디오 처리

# --- 📐 Geometry & Spatial ---
shapely==2.0.6                # 지리공간 데이터 (향후 지도 기능용) - Python 3.12 지원

# --- 🔄 Version Control Integration ---
gitpython==3.1.43             # Git 통합

# --- 🌈 Color & Terminal ---
colorama==0.4.6               # 터미널 색상 (Windows 호환)
termcolor==2.5.0              # 터미널 색상 - 최신 버전

# ================================================================
# Python 3.12.10 최적화 및 Windows 환경 고려사항
# ================================================================

# 1. 모든 패키지는 Python 3.12 네이티브 바이너리 지원
# 2. Windows 64-bit 환경에서 테스트된 버전들
# 3. 성능 최적화: NumPy, SciPy, scikit-learn 등 최신 바이너리
# 4. 메모리 효율성: Python 3.12의 향상된 GC 활용
# 5. 타입 힌트: Python 3.12 PEP 695 지원

# ================================================================
# 선택적 의존성 (환경에 따라 설치)
# ================================================================

# --- GPU 가속 (CUDA 환경) ---
# faiss-gpu==1.8.0.post1      # FAISS GPU 버전 (CUDA 필요)
# torch==2.5.1+cu124          # PyTorch GPU 버전 (CUDA 12.4)

# --- 한국어 NLP (JDK 필요) ---
# konlpy==0.6.0               # KoNLPy (Java 8+ 의존성)
# mecab-python3==1.0.9        # MeCab (시스템 설치 필요)

# --- 데이터베이스 드라이버 ---
# psycopg2-binary==2.9.9      # PostgreSQL
# pymongo==4.10.1             # MongoDB

# --- 클라우드 스토리지 ---
# boto3==1.35.62              # AWS S3
# google-cloud-storage==2.18.2 # Google Cloud Storage

# ================================================================
# Windows 환경 시스템 요구사항
# ================================================================
# 1. tesseract.exe (OCR 엔진)
#    다운로드: https://github.com/UB-Mannheim/tesseract/wiki
#    PATH 환경변수에 추가 필요
#
# 2. poppler (PDF 처리)
#    다운로드: https://github.com/oschwartz10612/poppler-windows
#    PATH 환경변수에 추가 필요
#
# 3. Microsoft Visual C++ Redistributable (일부 바이너리 패키지용)
#    다운로드: https://aka.ms/vs/17/release/vc_redist.x64.exe

# ================================================================
# 설치 순서 (Windows)
# ================================================================
# 1. python -m pip install --upgrade pip setuptools wheel
# 2. pip install -r requirements.txt
# 3. 시스템 패키지 설치:
#    - Tesseract OCR + 한국어 언어팩
#    - Poppler PDF utilities
#    - Visual C++ Redistributable (필요 시)

# ================================================================
# Python 3.12.10 성능 개선 활용
# ================================================================
# - PEP 709: List comprehension 최적화
# - PEP 688: Buffer protocol 개선
# - Enhanced error messages
# - f-string 성능 향상
# - 메모리 사용량 15% 감소 (vs Python 3.11)

# ================================================================
# 버전 고정 이유
# ================================================================
# - Python 3.12.10 호환성 검증 완료
# - 프로덕션 환경 안정성 보장
# - Windows 바이너리 호환성 확인
# - 보안 취약점 최신 패치 적용